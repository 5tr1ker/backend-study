
[ 디스크 읽기 방식 ]
- 하드 디스크 드라이브 ( HDD ) 와 솔리드 스테이트 드라이브 ( SSD )
하드디스크는 기계식 장치로 전자식 저장 매체인 SSD 보다 속도가 느리다. 그리고 디스크 장치는 병목이 발생하는 위치가 될 때가 많다.

SSD는 기존 하드 디스크와의 순차 I/O 속도와 차이는 크게 나진 않지만, 랜덤 I/O 에서는 SSD가 더 빠른 성능을 보인다.
그리고 DBMS 에서는 랜덤 I/O 를 통해 작은 데이터를 읽고 쓰는 작업이 대부분이라 SSD는 RDBMS 용 스토리지에 최적이다.

# 데이터베이스 성능 튜닝은 어떻게 디스크 I/O를 줄이는 지에 관건일 떄가 많다.

- 랜덤 I/O 와 순차 I/O
랜덤 I/O와 순차 I/O는 하드 디스크 드라이브의 플래터 ( 원판 ) 을 돌려서 읽어야 할 데이터가 저장된 위치에 디스크 헤더를 이동시킨 다음 데이터를 읽는다.

순차 I/O는 3개의 데이터를 디스크에 기록하기 위해 시스템 콜을 1번 요청하고, 랜덤 I/O는 같은 조건으로 시스템 콜을 3번 요청한다.
즉, 데이터 기록 위치를 찾기 위해 순차 I/O는 디스크의 헤드르 1번 움직이고 랜덤 I/O는 3번 움직인다.
디스크에서 데이터를 쓰고 읽는데 걸리는 시간은 디스크 헤더를 움직이는 단계에서 결정되기 때문에 순차 I/O가 랜덤 I/O 보다 3배 더 빠르다.

그래서 여러번 쓰기 또는 읽기를 자주하는 데이터베이스 작업 ( 랜덤 I/O 작업 ) 특성 상 MySQL 서버에서 작업의 부하가 크다.
이는 디스크 원판을 가지지 않는 SSD 가 더 빠를 것 같지만, SSD 에서도 랜덤 I/O의 성능이 떨어진다.
# 물론 디스크 헤더의 위치 이동 없이 얼마나 많은 데이터를 한번에 기록하는 것이 중요하다.

사실 쿼리 튜닝은 랜덤 I/O 자체를 줄이는 것이 목적이다. 즉 필요한 데이터만 읽도록 쿼리를 개선하는 것이다.

[ 인덱스란? ]
인덱스는 책의 맨 뒤에 있는 찾아보기와 같다. 책의 맨 뒤에 있는 찾아보기에 나오는 내용은 데이터 파일에 해당한다 볼 수 있다.
그리고 찾아보기에서 나오는 페이지 번호는 데이터가 저장된 주소가 될 수 있다.
DBMS 도 특정 칼럼과 해당 레코드가 저장된 주소를 키와 값의 쌍으로 인덱스를 만든다. 그리고 정렬을 통해 빠르게 데이터를 찾을 수 있게 한다.

인덱스는 항상 정렬된 상태를 유지하기 때문에 조회인 SELECT 는 성능이 빠르지만, 데이터의 추가와 삭제인 UPDATE 와 DELETE 작업은 속도가 느리다.
이는 인덱스에 사용할 컬럼이 많아질수록 저장 속도는 더 느려질 것이다. 물론 데이터의 조회 기능이 중요하다면 희생할 수 있어야 한다.

인덱스는 데이터를 관리하는 방식과 중복 값 허용에 따라 여러 가지가 있다.
인덱스를 역할별로 구분해본다면 프라이머리 키와 보조 키 ( 세컨더리 인덱스 ) 로 나뉠 수 있다.

- 프라이머리 키
해당 레코드를 대표하는 컬럼의 값으로 만들어진 인덱스로, 해당 컬럼으로는 레코드를 식별할 수 있는 기준이 되기 때문에 식별자라고 부른다.
프라이머리 키는 NULL 과 중복을 허용하지 않는다.

- 보조 키
프라이머리 키를 제외한 모든 인덱스를 말한다. 
유니크 인덱스는 프라이머리 키와 성격이 유사하고, 프라이머리 키를 대체할 수 있어서 대체 키라고도 하는데, 별도로 분류하기도 하고 세컨더리 인덱스라고도 한다.

- B-Tree 알고리즘
B-Tree 알고리즘은 가장 많이 사용된 알고리즘이며, 값을 변경하지 않고 인덱싱하는 알고리즘이다.

- Hash 인덱스 알고리즘
Hash 인덱스 알고리즘은 칼럼의 값으로 해시값을 계산해서 인덱싱하는 알고리즘으로 검색 속도가 매우 빠르다는 특징을 가지고 있다.
하지만 값의 변형으로 Prefix 를 통한 검색이나 범위 검색과 같은 인덱스는 사용할 수 없다.
Hash 인덱스는 주로 메모리 기반 데이터베이스에서 많이 사용된다.

- 유니크 인덱스
단순히 1개의 값이 존재한다.
이는 동등 조건으로 조회했을 때 1건의 데이터가 조회되면 더이상 찾이 않아도 된다는 것을 옵티마이저에게 알려주는 효과를 낸다.
뿐만 아니라 MySQL에서의 처리 방식의 변화나 차이점이 많다.

- 유니크하지 않은 인덱스
2개 이상의 값이 존재한다.